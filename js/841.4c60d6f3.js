"use strict";(self["webpackChunkorigin"]=self["webpackChunkorigin"]||[]).push([[841],{2841:function(o,e,t){t.r(e),t.d(e,{default:function(){return Q}});t(4114);var r=t(6768),l=t(144),a=t(4373),i=t(4232);const c=o=>((0,r.Qi)("data-v-0491b68b"),o=o(),(0,r.jt)(),o),s={class:"book-cover"},n=c((()=>(0,r.Lk)("div",{class:"cover-pattern"},null,-1))),u={class:"cover-title"},v={class:"book-info"},d={class:"book-category"},p={class:"book-name"},k={class:"book-author"},h={class:"book-desc"};var g={__name:"BookCard",props:{title:{type:String,required:!0},author:{type:String,required:!0},description:{type:String,required:!0},coverColor:{type:String,required:!0},category:{type:String,required:!0}},setup(o){return(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"book-card",style:(0,i.Tr)({"--cover-color":o.coverColor})},[(0,r.Lk)("div",s,[n,(0,r.Lk)("div",u,(0,i.v_)(o.title),1)]),(0,r.Lk)("div",v,[(0,r.Lk)("div",d,(0,i.v_)(o.category),1),(0,r.Lk)("h3",p,(0,i.v_)(o.title),1),(0,r.Lk)("p",k,"作者："+(0,i.v_)(o.author),1),(0,r.Lk)("p",h,(0,i.v_)(o.description),1)])],4))}},y=t(1241);const b=(0,y.A)(g,[["__scopeId","data-v-0491b68b"]]);var f=b;const C=o=>((0,r.Qi)("data-v-514a3fe4"),o=o(),(0,r.jt)(),o),L=C((()=>(0,r.Lk)("div",{class:"book-header"},[(0,r.Lk)("h1",{class:"book-title"},"图书列表"),(0,r.Lk)("p",{class:"book-subtitle"},"探索知识的海洋，发现阅读的乐趣")],-1))),_={class:"book-container"},m={key:0,class:"loading-indicator"},K=C((()=>(0,r.Lk)("div",{class:"loading-spinner"},null,-1))),R=C((()=>(0,r.Lk)("p",{class:"loading-text"},"加载中...",-1))),S=[K,R],E={key:1,class:"no-more"},T=C((()=>(0,r.Lk)("p",null,"已加载全部图书",-1))),X=[T];var q={__name:"BookListView",setup(o){const e=(0,l.KR)([]),t=(0,l.KR)([]),i=(0,l.KR)(1),c=(0,l.KR)(6),s=(0,l.KR)(!1),n=(0,l.KR)(!0),u=(0,l.KR)(null);let v=null;function d(o){const e=o.trim().split("\n"),t=e[0].split(","),r=[];for(let l=1;l<e.length;l++){if(!e[l].trim())continue;const o=[];let a="",i=!1;for(let t=0;t<e[l].length;t++){const r=e[l][t];'"'===r?i=!i:","!==r||i?a+=r:(o.push(a.trim()),a="")}if(o.push(a.trim()),o.length===t.length){const e={};t.forEach(((t,r)=>{e[t]=o[r]})),r.push(e)}}return r}function p(){!s.value&&n.value&&(s.value=!0,setTimeout((()=>{const o=(i.value-1)*c.value,r=o+c.value,l=e.value.slice(o,r);l.length>0?(t.value.push(...l),i.value++,r>=e.value.length&&(n.value=!1)):n.value=!1,s.value=!1}),500))}function k(o){v&&clearTimeout(v),v=setTimeout((()=>{const e=o.target,t=e.scrollTop,r=e.scrollHeight,l=e.clientHeight;r-t-l<200&&p()}),100)}return(0,r.sV)((async()=>{try{const o=await a.A.get("/books.csv"),t=d(o.data);e.value=t,e.value.length>0&&p()}catch(o){console.error("Failed to load books from CSV:",o),e.value=[{title:"自然之美",author:"作者名",description:"探索大自然的奥秘，感受生命的奇迹。这本书带你走进自然的世界，发现身边的美好。",coverColor:"#2d7a6b",category:"自然"},{title:"时光流转",author:"作者名",description:"记录时光的痕迹，感受岁月的沉淀。每一页都是生活的缩影，每一个故事都值得珍藏。",coverColor:"#8b6f47",category:"文学"},{title:"智慧之光",author:"作者名",description:"知识的灯塔，照亮前行的路。汇聚古今中外的智慧结晶，启迪心灵，开阔视野。",coverColor:"#1e5a4a",category:"哲学"},{title:"艺术人生",author:"作者名",description:"艺术源于生活，高于生活。感受艺术的魅力，体验创作的快乐，发现美的真谛。",coverColor:"#5a4a3a",category:"艺术"},{title:"科学探索",author:"作者名",description:"科学的奥秘等待我们去发现。从微观到宏观，从过去到未来，探索未知的世界。",coverColor:"#2d7a6b",category:"科学"},{title:"历史长河",author:"作者名",description:"回顾历史，展望未来。了解过去的故事，理解现在的发展，预见未来的趋势。",coverColor:"#8b6f47",category:"历史"},{title:"心灵之旅",author:"作者名",description:"内心的探索，精神的成长。在阅读中寻找答案，在思考中获得智慧，在感悟中提升自我。",coverColor:"#1e5a4a",category:"心理"},{title:"创意无限",author:"作者名",description:"激发创意，释放潜能。从不同的角度思考问题，用创新的方式解决问题，创造无限可能。",coverColor:"#5a4a3a",category:"设计"}],e.value.length>0&&p()}})),(0,r.hi)((()=>{v&&clearTimeout(v)})),(o,e)=>((0,r.uX)(),(0,r.CE)("div",{class:"book-list-view",onScroll:k,ref_key:"scrollContainer",ref:u},[L,(0,r.Lk)("div",_,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.value,((o,e)=>((0,r.uX)(),(0,r.Wv)(f,{key:`${o.title}-${e}`,title:o.title,author:o.author,description:o.description,"cover-color":o.coverColor,category:o.category},null,8,["title","author","description","cover-color","category"])))),128))]),s.value?((0,r.uX)(),(0,r.CE)("div",m,S)):(0,r.Q3)("",!0),!1===n.value&&t.value.length>0?((0,r.uX)(),(0,r.CE)("div",E,X)):(0,r.Q3)("",!0)],544))}};const w=(0,y.A)(q,[["__scopeId","data-v-514a3fe4"]]);var Q=w}}]);
//# sourceMappingURL=841.4c60d6f3.js.map